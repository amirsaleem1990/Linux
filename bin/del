#!/bin/bash

IFS=$'\n'
RED='\033[0;31m'
NC='\033[0m' # No Color

function print__ {
	# $1 = type, $2 = file_name
		echo -en "${RED}$1:${NC} $2,  ${RED}SIZE: ${NC}`du -sh $2 | sed 's/\t/-/g' | cut -d- -f1`\nAre you really want to ${RED}DELETE${NC} this? \n[y|n]: "	
}

function file_folder {
	if test -f "$1" ; then 
		type=FILE
	elif test -d "$1" ; then
		type=FOLDER
	fi	
}

myArray=( "$@" )

# agar galti sy <-rf> perameters <del> k sath pass ho jaen to in perameters ko remove kar den
if [[ "${myArray[0]}" = "-rf" ]] ; then
	delete="${myArray[0]}" # 0th index
	myArray=( "${myArray[@]/$delete}" ) # $delete ko delete kar den 
	myArray=( "${myArray[@]:1}" ) # $myArray k 1 sy last tak sary elemetns, (to ham ny 0 index element ko skip kar dya) 
fi


array_len="${#myArray[@]}"
if [[ $array_len = 1 ]]; then
	file_folder "${myArray[0]}"	
	IFS= 
	for i in {1..3}; do 
		print__ $type "${myArray[0]}"
		read m
		echo 
		if [[ $m != "y" ]] ; then 
			exit
		fi
	done	
	DEL -rf "${myArray[0]}"
else
	for i in "${myArray[@]}"; do
		echo "********************************"
		IFS=$'\n'
		file_folder "$i"
		print__ $type $i
		read m
		echo 
		if [[ $m != "y" ]] ; then 
			exit
		fi
		DEL -rf $i
	done
fi